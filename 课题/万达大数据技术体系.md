万达大数据方案体系
======
Date: 2014-03-19  
Title: 大数据技术概述  
Published: true  
Type: post  
Excerpt:   

# 大数据技术概述

## 大数据特性



## 大数据思维

## 大数据技术的基础

## 目前主流的大数据解决方案：Hadoop

## 大数据技术与传统数据库的区别



# 万达大数据体系

## 技术架构

 <img src="image/万达大数据技术架构.png" width="800"/>
 
 万达大数据体系技术方案分为六个层级，我们封装了大数据领域绝大多数的业界产品方案：
 
 * 文件存储层：主要采用了HDFS和FastDFS作为分布式文件存储的基础构件，支持可靠存储TB到几十PB级别的大容量存储。
 * 数据存储层：基于文件存储层，提供关系型数据库、分布式列式数据库、图形数据库等不同类型的有序数据存储。
 * 计算层：资源基础调配采用下一代资源管理框架 Apache YARN 进行资源的分配和调度，同时提供Map-Reduce分布式计算框架、Spark内存计算框架和Storm流式计算框架等离线批处理计算任务。
 * 应用工具层：海量数据搜索应用，其中包括：数据爬虫（Crawler）、
 * 服务层：积累相应的
 * 数据集成层：Sqoop 支持从 DB 到 Hadoop 的数据迁移，CuteInfo支持不同类型的数据库之间的数据迁移；

### 文件存储层
 
#### HDFS

HDFS，Hadoop分布式文件系统，有着高容错性的特点，并且设计用来部署在低廉的硬件上，而且它提供高吞吐量来访问应用程序的数据，适合那些有着超大数据集的应用程序。HDFS放宽了POSIX的要求，这样可以实现流的形式访问文件系统中的数据。

#### FastDFS

### 数据存储层

#### 关系型数据库

我们支持符合JDBC规范的标准关系型数据库，

#### HBase 列式数据库

HBase（Hadoop Database）是一个高可靠性、高性能、面向列、可伸缩的分布式存储系统，利用HBase技术可在廉价PC Server上搭建起大规模结构化存储集群。HBase是Google Bigtable的开源实现，它利用Hadoop HDFS作为其文件存储系统，利用Hadoop MapReduce来处理HBase中的海量数据，以及利用Zookeeper作为协同服务。

#### Neo4J 图形数据库

### 计算层

#### Map-Reduce分布式计算框架

#### Spark内存计算方案

#### Strom流式计算方案


## 解决方案架构

 <img src="image/万达大数据解决方案架构.png" width="800"/>

### 分布式数据仓库

万达分布式数据仓库系统基于Apache Hadoop 2.2进行构建，定位是一个持续优化的具有企业级特性的Hadoop基础软件平台，定位于解决高并发、低响应、 TB级以上数据的存储和计算的需求，具备高可靠、低成本、按需扩容基础特性，并提供自动化部署、监控和告警、安全。

#### 自动化部署、监控和运维

我们开发一个基于Web的工具，支持万达Hadoop集群的资源分配、管理和监控。目前已支持大多数Hadoop组件，包括HDFS、MapReduce、Hive、Pig、Hbase、Zookeper等等。

我们通过Ganglia收集Hadoop运行过程中的度量指标，用Nagios支持系统报警，当需要引起管理员的关注时（比如，节点停机或磁盘剩余空间不足等问题），系统将向其发送邮件。

### 分布式内存分析引擎

实时在线数据处理引擎提供大数据的交互式 SQL 统计和 R 语言挖掘能力。

#### 主要特点

* 高性能：数据处理引擎支持将二维数据表缓存入独立的分布式内存（或SSD）中，建立列式存储、分区/分块和索引，采用改进后的Apache Spark作为执行引擎，SQL执行性能比Apache Hadoop + Hive的解决方案要提高10至100倍左右，性能超过主流MPP数据库2倍到10倍。数据处理引擎处理的数据不局限在内存中，即使数据在低速磁盘上SQL执行性能也比 Apache Hadoop/Hive 快5到20倍。
* 更强的SQL支持：数据处理引擎同时兼容Oracle PL-SQL和HiveQL语法，自动识别不同语法，支持存储过程和函数，支持常用Oracle扩展函数。完整的SQL支持帮助了用户平滑地从原有关系数据库迁移到大数据平台。
* 更强的统计分析能力：用户可以通过RStudio（R语言的IDE工具）或者R命令行访问存储在分布式内存中的数据，R语言中数千个统计算法可以和数据处理引擎提供的分布式并行数据挖掘算法交替混合使用，为各行业进行大数据挖掘提供了易用而强大的分析工具。
* 支持广泛的BI和报表工具：数据处理引擎可以和常用的BI工具对接，包括Tableau、SAP Business Objects、Oracle OBIEE等，用户无需编程就可以方便地为大数据创建美丽的报表，通过数据处理引擎提供的高速大数据统计分析能力提高决策效率；
* 高扩展能力：数据处理引擎可以随着集群规模的扩展，线性扩展处理能力，可以支持从GB到数百TB的数据处理。

#### 基本特性

分布式内存列式存储

* 独⽴立的分布式存储管理系统；
* 数据存放在Off Heap 内存，避免GC的影响；
* 充分利⽤用SSD作为Cache；
* 自定义列式存储格式，为内存和SSD优化；

高速SQL统计

* 性能⽐比Hadoop快10-100倍，⽐比MPP数据库快2-10倍，性能接近SAP HANA；
* 支持完整的HiveQL；
* 支持常见的Oracle扩展函数；
* 支持对HiveQL的多项重要性能和功能改进，包括⽀支持创建各种Filters、⽀支持对数据进⾏行灵活切分以避免shuffle；

高速R语⾔言统计

* 支持R语⾔言访问分布式内存数据（通过Hive）；
* 实现常见算法的并⾏行化版本，⽐比串⾏行版本快10倍；

支持多租户及经过验证的稳定版

* 可以运⾏在Hadoop 2.2和YARN上（TDH2.4）；
* 7x24⼩小时不间断运⾏，自动容错和故障修复；
* 动态不停机扩容；

### 实时在线数据处理引擎

多数据源的集中日益成为趋势, 当不同类型，来源的数据海量增长时，企业不仅需要收集更多的数据，更需要整合数据孤岛、将数据集中处理和分析做为决策流程的一部分。对于一些企业来说，要求数据的整合和分析并最终用于决策的时间非常短。随着内存数据库技术的发展，使得高速分析（包含复杂的迭代式或者交互式SQL分析）巨大而复杂的数据群成为可能。数据源以结构化数据为主，通常在GB到TB级，如政府各部门数据，证券交易，银行保险，零售业及旅游业的数据。

 <img src="image/分布式内存分析数据库.png" width="600"/>
 
#### 主要特点

分布式内存数据库实时在线数据处理引擎以 Apache HBase 为基础,是企业建立高并发的在线业务系统的最 佳选择。多种数据类型支持:Hyperbase 支持从 GB 到数十 PB 数据的处理,支持广泛的数据类型,包括对结构化记 录、半结构化文本、 图数据、非结构 化数据(图片 、音频、二进制 文档等)的存 储、搜索、统 计和分析。高 速数据处理能力:Hyperbase 支持高速的数据检索、搜索和统计;根据索引进行检索的延时在数毫秒到数百毫秒量级;支持上 亿的并发用户同时进 行数据插入、修 改、查询和检 索;支持对文本 建立增量全文 索引并且支持秒 级的全文关键 字搜索。 高效 OLAP 和批量统计:Hyperbase 为 Inceptor 引擎提供高效数据扫描接口,通过 Inceptor 的扩展 SQL 语法,充分利用 Hyperbase 的内部数据结构以及全局/辅助索引进行 SQL 执行加速,可以满足高速的 OLAP 数据分析应用需 求;同时也支持高速的 SQL 离线批处理,性能接近于存储在 HDFS 上的相同数据的统计。高效图计算:Hyperbase 提供构造图形的 API,帮助用户构造由上亿顶点组成的复杂大图,同时提供专有的高效图算法,包括关联网络的高速 分析。 

#### 基本特性

数据导⼊入⽅方式

* 使⽤HBASE API或Bulk Load进⾏行数据装载；
* 使⽤SQL INSERT INTO将Hive表数据插⼊入Hyperbase；
* 使⽤Sqoop将数据从RDB导⼊入Hyperbase；

数据统计⽅方式

* 支持边插⼊入数据边统计，⽀支持对实时数据的统计；
* 支持全量数据缓存在内存中进⾏行统计分析；
* 支持读取HBase内部接⼝（HFile等）, 批量对数据进⾏⾼速统计分析；
* 支持灵活运⽤结构化的HBase rowkey进⾏高效的表JOIN或GROUPBY, 避免Shuffle；
* 支持完整的HiveQL进⾏各种统计操作，包括各种SELECT, JOIN, GROUPBY, SUB-QUERY统计语句；

高效的索引

* 支持全⽂文索引，⽀支持关键字搜索（API⽅方式）；
* 支持全局索引（API⽅方式，最近会⽀支持SQL CREATE INDEX⽅方式，TDH 2.4）；





## 核心优势

## 我们的愿景

# 万达大数据实施案例

## 医疗卫生领域

### 基于万达大数据体系的医疗大数据平台
 <img src="image/医疗大数据分析集.png" width="800"/>

### 医疗大数据分析工具集

## 交通信息领域
（待补充）

## 社会保障领域
（待补充）



