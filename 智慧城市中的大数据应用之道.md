# 第四章 大数据在智慧城市应用中的关键技术

## 4.1 数据生命周期管理

数据生命周期管理包括数据的产生、维护、销毁等各个阶段，其中需要元数据（Metadata）对各个数据阶段进行控制

## 4.2 大数据采集


## 4.3 海量数据存储


## 4.4 大数据处理


## 4.5 大数据查询

### 4.5.1 传统BI的查询



### 4.5.2 R语言查询

R语言是大数据分析和挖掘重要的工具，R是用于统计分析、绘图的语言和操作环境。R是属于GNU系统的一个自由、免费、源代码开放的软件。

#### 4.5.2.1 R语言介绍




## 4.6 智慧城市大数据决策分析【80%】

从一个城市范围看，智慧城市的核心是智慧。它要求将从不同来源获得的信息，通过快速、专业、智能的分析处理，给出一个可度量的、可评估的科学决策方案。

智慧城市中大数据相关的关键技术包括融合多领域信息的数据知识模型、面向智慧城市决策支持的分布式海量数据的管理技术、辅助决策模型的智能组合技术、高性能多用户协同的辅助决策技术等。

### 4.6.1 融合多领域信息的数据知识模型

对与城市综合管理相关的各领域（如交通、卫生、食品、环境、能源、规划等）数据提供统一的数据采集、整理、处理等支撑服务；其次，对城市综合管理决策可能涉及的多领域的需求，在标准统一的领域数据知识模型的基础上，建立面向不同主题的多领域数据知识模型，如，卫生中疾病的发生可能与环境变化、食品污染、药品短缺等相关，食品价格的波动可能与交通物流状况、环境带来的产量变化等相关；最后，在建立面向领域的和面向主题（涉及多领域）的数据知识模型的基础上，形成多领域多层次数据知识模型结构。相关技术包括：

* 数据和知识表达形式的规范性：在对交通、卫生、食品、环境、能源、规划等领域知识研究的基础上，提出科学、统一、规范的知识信息表达形式，为进行多领域综合分析提供统一的数据基础；
* 面向领域的数据知识模型：通过对交通、卫生、食品、环境、能源、规划等不同领域的关键业务和数据类型进行研究，建立面向不同领域的、规范的数据知识模型；
* 面向主题（多领域）的数据知识模型：在规范的数据和知识表达形式的基础上，研究面向多领域的综合分析业务需求，建立面向主题（多领域）的综合数据知识模型，如流行病分析、价格波动分析、社会稳定分析、城市规划决策等主题；
* 多领域多层次数据知识模型结构：在面向领域和面向主题的数据知识模型的基础上，研究多层次的统一的数据知识模型，为建立智能化城市综合管理辅助决策模型提供技术支撑。

### 4.6.2 面向智慧城市决策支持的分布式海量数据的管理技术

针对智能化城市综合管理中涉及的多领域海量数据，通过对城市信息化相关的海量异构数据的集成、存储、查询分析和挖掘技术和基于海量数据的决策分析技术进行研究，实现海量数据管理和决策分析的双向耦合，为决策支持提供数据管理层面的有效支撑。包括：

* 分布式海量数据的平台：针对数据知识模型和决策分析模型，利用智慧城市云计算相关技术，研究分布式数据平台相关技术，包括统一访问技术、路由策略技术、跨存储资源访问技术、事务技术等，建立面向智能化城市综合管理的分布式数据平台，提供高效的数据组织、存储和访问的机制。城市管理中涉及大量的实时数据应用。这些应用使得数据量呈现快速增长的趋势。另一特点是存在突发性的数据爆发。因此，需能够支持存储平台的负载均衡和弹性伸缩，主要包括云平台通用的负载均衡和弹性伸缩技术，模型数据的分布式存储和基于查询频率的负载均衡技术。
* 基于云计算的海量异构数据的存储管理技术：城市管理原始数据包含大量的结构化、半结构化和非结构化数据。模型相关数据包含多种表示方法：向量数据、序列数据、图数据。目前的云数据服务技术主要针对结构化数据和基于Key-Value的文本数据，而对于序列数据、图数据这些类型没有很好的支持技术。项目将基于Hbase、HIVE等NoSQL云数据库系统，研究Hadoop平台上数据管理与访问的技术，主要包括面向多维度聚集查询的数据的分割与分布策略、大规模聚集查询的分布式实施方法、以流数据为代表的海量监测数据的快速写入与基于（Key,Value）方式的分布式存储与访问方法、面向曲线特征的监测数据组织方法。
* 分布式决策模型：研究面向海量异构数据的智能城市的决策模型。在分布式计算框架MapReduce的基础上，对决策模型（多元回归、神经网络、主成分分析等）进行研究，使其具有分布式计算的能力，能够对分布环境下的数据库进行分析，以提高算法的运算能力。
* 流数据挖掘技术：智能城市分析的另一特点是数据的快速性，因此需利用流数据分析和挖掘算法，构建快速实时的决策分析模型。针对智能化城市综合管理中的海量实时数据“连续、有序、变化、快速、海量”的特点，采用分类、聚类、频繁模式挖掘等方法来处理城市不同领域的监测数据。

### 4.6.3 辅助决策模型的智能组合技术

智能化城市综合管理中，有多种面向领域和面向主题（多领域）的决策分析模型，这些决策模型的输入，不仅有获取的城市管理基础数据，而且有其它模型的分析结果，因此需要建立针对模型的规范化描述，使模型分析的结果也可以满足数据知识模型体系的数据标准，从而能够为其它决策分析模型所利用，在此基础上能够建立模型链的实例化应用，扩展辅助决策支持的范围，真正发挥多层级辅助决策支持的能力。包括：

* 决策模型标准化：研究针对决策模型的标准规范，规范系统中模型的建立、描述、注册、输入和输出等内容，使相关模型能够组成模型链；
* 模型链建立与实例化：通过对智能化城市综合管理业务需求的分析，建立对应某主题或过程的模型链，通过自动或交互式手动的方式实现模型链的实例化和执行，例如，发生应急事件时的预测结果，可以用来分析是否会产生其它次生、衍生事件；
* 模型链评估与优化：通过建立模型链比较、评估标准，来分析针对同一主题或过程的不同模型链的优劣，同时可以通过参数调整或手动的方式来对模型链进行优化。

### 4.6.4 高性能多用户协同的辅助决策技术

智能化城市综合管理中积累了各领域的海量历史数据，对这些数据进行综合分析能够提供智能辅助决策的功能。很多智能辅助决策算法的计算结果与地理信息、空间信息关系紧密，通过可视化技术，可以更直观、有效的方式将分析结果展示给用户，同时，将分析结果按时间切片顺序进行展现，能够模拟出动态演变发展的过程，显示出不同现象与动态变化之间的关系。主要包括：

* 决策模型的可视化展现技术：将决策模型与具体的业务需求相结合，对实时动态信息或历史信息进行分析，分析结果与GIS、虚拟现实环境相结合，能够进行基于场景的可视化展现，如，危险气体扩散模型，地铁客流量预测模型等；
* 可视化动态分析模型：以时间切片为依据，将决策模型的可视化展现结果顺序的展现给用户，是用户对整个的发展演变过程有最直观的认识，既可以是历史数据的分析，也可以是对事态发展的预测。同时，用户可以通过调整决策模型的参数、最优分析评估等手段，来获得不同的事态发展过程展示，提高系统的智能化水平。如，危险气体在不同条件下的影响范围趋势、地铁客流量在不同站点、不同时间段条件下的预测分析等；
* 可视化智能决策方案：在对获取的历史和动态信息分析的基础上，系统结合业务知识，自动的生成当前信息的可视化决策方案，同时，用户可以通过参数调整等手段更新决策方案。如，危险气体泄漏事件中的可视化智能救援方案、基于历史信息的城市优化规划决策方案等。

## 4.7 数据展现与可视化

